language: java
services:
  - docker
jdk:
  - oraclejdk8
cache:
  directories:
    - "$HOME/.m2"
sudo: false
script: mvn clean package
after_success:
  - if [ -n "$TRAVIS_TAG" ]; then
        openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in secring.gpg.enc -out secring.gpg -d;
        openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in pubring.gpg.enc -out pubring.gpg -d;
        mvn deploy -B -U --settings $GPG_DIR/settings.xml -DperformRelease=true -DskipTests=true;
    fi
env:
  global:
    - GPG_DIR="`pwd`/travis"
    - secure: kqpjMogjXCuy3UiCc7AbwIj+cHqOy/9cWerJDghFqkd8TxbNdfeZ8IX3BXXlwY4CZ1GwGm2CSAGX/2pZ239fOMEEkx3NS29+7mujzRcPbD3DhrKDWGAqc0qMYRL3el87HLQIg0IeYgYitrKc/zgP00h87cW2AHt3xzyncxjfhzyzfigDJmFVcm/IslZRNw7E02f/nuiz+oBWMyJcNe6rkjMQ2tp790P5ht8cnEEnC822NrBJMX+RncbB6yUCFJTAGJU5B8uRn+G5GiPUUiNw2gx83RaWbTuSfw1PhCHMhOGph8FyV/FclTFNpxiA3ynyGdt9qXzzXI1qBw4iOE3JWmT/grfE70N5HegYBf+PtRBphUYkWQgo8+zBM5pPFTLCevXOdpvsgJWMBbpNXUU6AdMND+B8i77C+AkyCH8teCJw7r3GPsQaYUNxBr1VhoX9pRiDJtNz7B3dYr9oOb7pqMFwdaLcMRoaLbqN/wSFl8rGzrQcYWPLWKPgAvaV1otWqYk7m4gFQr4G86h1SkuQGOrk7eSxz74tG2QvCFe4sCEgiFoEvvnPX9BtgZd1XUbMiFXeL+ILT9/NBVlda67c2SlPkyn8GBSWmU6B0svScAYEieynmBye3ejfZunM9D0Qe9HYO/xLsj+Yv0Q2PHalUVXBSNpEk61YwK9oEdXoHwo=
    - secure: clk6g23KTBMeFMJV+zruE9Th5uigQVKei11B/nPIMwM88OY5E1Ri05c3/7FFBEC1wzEQ7nhxuIECxy1mbHdmUZP1dvI1kpgXFPjhmTfmRPPoIPWGJwPM4YlOIQmko/iDyN8kcKgkPtUwUIcAUKJXk9R+G4/HMNTue8/fhyAQsZI1Y+xYRwlwYTgj61sohhUEvbIkLR9Ubuu9a9+STu7+NHktr5HDFlMh4Nm7sXf1uJdXCTGRrRUvtUKLhl2tll6hW4zMJDn4bt7ZYbfYdX+0Lfmqxz4hxi7/Rl9vgJRC6lg0DGiBtv5XteSLfktPHMJouWwW4fss2Z0Nb+s0u0rjDpuDXC9cXPoNzG9Ohr3vgd3eeRdJE9SS78EvearPtkOfSI9mOLeNcInxp5LTRuBy6A+Cq4D5748leiafcPsZlcNu4W01KMSAyXZ1jd7+kuSm4cbjpTigWy3qBqrA6DC8QrVwnYVWQ2jsprvZisR8gZdebtQfIpaTQJcJo72En+3DLVJhnPQ7+GPTHy5Awdifv4jHo3YDZkxpj/ECjKCoPNzEKJUvz/KU8f59/eSxDxs26vNRCQYTDQ9LvjwMmHvn6lhAUr7RmNKfPUHHDOkx8UzG0b25MTJRYCsHZcJkfFJ2cU4iV0P3H8uXtu/dKAuzi4hOclg442WITgwcyMTlqdY=
    - secure: caRFOH2F7if9RHcWnRJMNE+6MIeSZJzaO5CB41NeR+1Kl2FjpzJP9PYjjLo16GodvNPqTt520ckSUvzuQg2tB4Jb3NGdxtAAnkQOfY1ABd1LpukspMEZO1HrtBbspTyVFHJCWyrlFMMwveBna4ak0B/7eEzQ1yqmEpsGdFDZsuysOyZC1/9u0ZxNse9dcBhjtCKlAj/CaMolMBvBmzsftFbpF61V/aYnnxYkFaNIooVUg5Qvs6bVwuVE0Enjfongftjfj5Z9+zvgKZ0vVJu93xWr4asmT5IigQ0IZka0mhUmtLOLoy0CgiuMdAlmC6NbkL4ZiJz+ei7w9MX/Dra+mT2WvFdEBFsj6pDFSvoJoIHXUKxj5yBAzbXYH9uTNahR2pubCDfkQ4b1hwslWPcHS4+GKhz0r5Yf5T5MjOdl7AgmaUi1bKOuu+jv8bdfnVEl/aLQHw3Z3LVtCKgE8Ar+AEmPjIySPs1ntXTOZDnZzs/FKaDBO/RoORdMNctjOcAufSff/QxFjNqD86GOb7uRicp5HQaq1ENTDx48rkEfFxirfb32/UdGwPwb69AZeaszaYg/4eNgmPjSLniCsnuVuuGVE5YvmuMYL1dCxXKMkqCnY9aReYc2kjIg5WCURMXKS/gjZtRifkMcvvEeUqJNqTQLyS6QYBWcURnaJK6ZBUU=
    - secure: f6zECJ2ZPsNltfkqpu7kz8tdSqMDYTQ9R/MEvPfSUJSI6H+CYcBTM9iu2JS82pNaZhHuTbEZYv1ZlxGe7KBhQ/WMMTNopjhL3t+mNqwxUdXme8GF7G+/qNAoYcsGjvTdrrYHNu0RrG5oAqAvhVMKGPmBbTjXtWhfg0N5M1yfa7BlXu4nyi71OKetha/R9EYMnQmJsa139KiipdKXi8wqMDCE6BAR0tirjdF0ysdhLeC75f/B4qGTnbQjqxItsDKh+w/Hno6ojCmmkrcR/tge7DCElBJmaOMlpK927mYQWhMNyNDayIPs4FLkmatPLxhZxXL7VxeBJ5CGAO5HsRXlYSd3vYN5Thu54P8/JTIWsWaI/AgySVtYvSJtpHfCyji7DpiU+cwEbh7MAgpLUXKqpJTQ+e+5ZOdtAd0RlMJW+pwE+FpD5POyuqLAchXuvYF5DXYZ3BgcS6X8DBWv17HAkI+tj/0NN8hh9giW/Y3/owey8jhl/qp80bv4C2/2E1y2G/DJSH/o7CbZV1SVSPk7PRmWiy7D19JTMTYw2z1n4veb2I65iC3eeBFHR2KY+xjfDOAdPzDdLfoXxG7j1oBWTmrT1+kC4VMmYbfjSv2B0cn61FBLlk7zLVz4RiHlkrQx0ERmEMnpZ4/HPIv3DG4gzOlXR1WcGtbP4y5MnJ3qarI=
    - secure: N/T/qtdWrc0HFuWkw88dCvsOqHLgmArsSMy0MzCU2sUeZkJuRby6WEUrWA3P8PuKssCzR4JYhEGFlx4seltWEVKHOECfd1RVxSCSjKLYVSOvAyYxYvBOK72raDJHs/9kqzCKs7+jcb+/ddNrKxM52pCovaKX0zsrO8R6qLVDRmcQEJZZk05VVQbMtHuyBCCAkANtlFNnvw2XI1NTfhL1QwRnzZB6gaHWgOPid4Ij5WcZSelFVyDChwFsazcH8vtEf6ZaggsNuSrj9Ff8B0mzyYzoAPXN/Xrnh/9NjK7/zxNKApR8+AO3aIe96dWeqNXFpHpMW1FFUZ5X5820uDqzHC27l5qHAPi1LfUpqR/DuW6/7gRwMtHp86jghyuqu9DbblMT5aGC6kdRzOGg1U97WZCib6zpKCM4yezBO3wOEXaMTe+++oNHlbp1cGWxlF9YkF7+eTp5HAS3hAFdWON7hmndHdNjSry7bmMmd3l1lK7XgFK5d2OOolDXtHtNsOc8u0kmKmpL9bHR7DV9zntec8eul1UUYyhokBhphVQ9ott3J/cM/+8/03dWcN9BfrmgSfp6kEG6COKkRj98V+Q2LWIMgCLgjKmOxwPquAv9ulFcxAzPxa5Vl2Z8J4hDIL2PRkbRGa6hZLInb9H5gde5H92VHDOVeZxBwD+f9xwRUlA=